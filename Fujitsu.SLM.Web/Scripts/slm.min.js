function isEmpty(n){return typeof n=="undefined"||n===null||n===""?!0:typeof n=="number"&&isNaN(n)?!0:n instanceof Date&&isNaN(Number(n))?!0:!1}function saveKendoGridState(n){var r=$(n).data("kendoGrid"),t=JSON.parse(kendo.stringify(r.getOptions())),i;delete t.columns;i=t.dataSource;delete i.transport;localStorage[n.substr(1)+"-kendo-grid-options"]=kendo.stringify(t)}function loadKendoGridUsingSavedState(n){var r=$(n).data("kendoGrid"),t=localStorage[n.substr(1)+"-kendo-grid-options"],i;t&&(i=$(n+" .k-grid-toolbar").html(),r.setOptions(JSON.parse(t)),$(n+" .k-grid-toolbar").html(i),$(n+" .k-grid-toolbar").addClass("k-grid-top"))}function popupGridEditorButtonNamingOnInsert(n){var t=$(n).data("kendoGrid");t.bind("edit",function(n){n.container.find(".k-grid-update, .k-grid-cancel").css("margin-top","10px");typeof isCreating!="undefined"&&isCreating&&(n.container.find(".k-grid-update").html('<span class="k-icon k-update"><\/span>Add'),isCreating=!1)})}function highlightRequiredFields(){var n=$(".editor-field").has('[data-val-required]:not([type="checkbox"])');$(n).each(function(n,t){$(t).children().first().before('<span class="required-indicator">*<\/span>')})}function onErrorNoXhr(n){var i=n.status,t=null;n.getResponseHeader("ErrorMessage")!==undefined&&(t=n.getResponseHeader("ErrorMessage"));onErrorMessage(i,t,!1)}function onErrorCustom(n){if(n.errors){var t="Errors:\n";$.each(n.errors,function(n,i){"errors"in i&&$.each(i.errors,function(){t+=this+"\n"})});kendoErrorAlert(t)}}function onError(n){onErrorCore(n,!0)}function onErrorNoCancel(n){onErrorCore(n,!1)}function onErrorCancelWithGridId(n,t){onErrorCore(n,!1);var i=$(t).data("kendoGrid");i.cancelChanges()}function onErrorCore(n,t){var i,u,r;stopSpinner();i=n.status;i=="customerror"?(canAddMessageToValidationSummary()?addMessageToValidationSummary(getCustomErrors(n)):onErrorCustom(n),t&&this.cancelChanges&&this.cancelChanges()):n.xhr!==null&&n.xhr.getResponseHeader("HandledError")!==undefined?(u=n.xhr.getResponseHeader("HandledError"),kendoErrorAlert(u),t&&this.cancelChanges&&this.cancelChanges()):(r=null,n.xhr!==null&&n.xhr.getResponseHeader("ErrorMessage")!==undefined&&(r=n.xhr.getResponseHeader("ErrorMessage")),onErrorMessage(i,r,!0))}function onErrorMessage(n,t,i){if(n!=="modelstateerror")if(t&&t.indexOf("SessionExpired")>=0)window.location.href="/Error/SessionExpired";else{var r="An unexpected error has occurred the details of which have been logged. Please try again and if the problem persists, contact an administrator.";t&&(r="An unexpected error has occurred the details of which have been logged. Please try again and if the problem persists, contact an administrator with the Error ID ["+t+"]");kendoErrorAlert(r);i&&typeof this.cancelChanges=="function"&&this.cancelChanges()}}function canAddMessageToValidationSummary(){var n=$("[data-valmsg-summary=true]");return n&&n.length>0?!0:!1}function getCustomErrors(n){var t=[];return n.errors&&$.each(n.errors,function(n,i){"errors"in i&&$.each(i.errors,function(){t.push(this)})}),t}function addMessageToValidationSummaryFromJson(n){addMessageToValidationSummary(n.Messages)}function addMessageToValidationSummary(n){var t=$("[data-valmsg-summary=true]"),i;t&&(i=t.find("ul"),n&&n.length>0?(t.removeClass("validation-summary-valid").addClass("validation-summary-errors"),n.forEach(function(n){i.append("<li>"+n+"<\/li>")})):(t.removeClass("validation-summary-errors").addClass("validation-summary-valid"),i.empty()))}function syncHandler(){this.read()}function updateError(){kendoErrorAlert()}function searchError(){kendoErrorAlert()}function diagramError(){kendoErrorAlert()}function kendoErrorAlert(n){var t="An unexpected error has occurred the details of which have been logged. Please try again and if the problem persists, contact an administrator.";isEmpty(n)||(t=n);kendo.alert(t)}function error_handler(n){if(n.errors){var t="";$.each(n.errors,function(n,i){"errors"in i&&$.each(i.errors,function(){t+=this+"\n"})});kendoErrorAlert(t)}}function addInputType(){var n=$("#input-type-window").data("kendoWindow");n.bind("activate",function(){$("input#InputTypeName").focus()});n.refresh().center().open()}function onInputTypeRefresh(){$("#InputTypeCreateButton").click(function(){var n=$(this).closest("form");$.ajax({url:n.attr("action"),type:"POST",data:n.serialize(),success:function(n){var t=$("#DeskInputTypes").data("kendoMultiSelect"),i=t.value().slice(0);i.push(n.Id);t.dataSource.add(n);t.dataSource.filter({});t.value(i);t.trigger("change");$("#input-type-window").data("kendoWindow").close()},error:function(n){handleResponseTextError(n)}})})}function onOperationalProcessTypeRefresh(){$("#operationalProcessTypeCreateButton").click(function(n){var t=$(this).closest("form"),i,r;i=$("#OperationalProcessTypeRefDataGrid").data("kendoGrid")?t.serialize():{OperationalProcessTypeName:$("#OperationalProcessTypeName").val(),Visible:$("input#OperationalProcessTypeVisible").is(":checked"),Standard:$("input#OperationalProcessTypeStandard").is(":checked"),SortOrder:$("#OperationalProcessTypeSortOrder").val()};r=t.kendoValidator().data("kendoValidator");r.validate()?(startSpinner(),$.ajax({url:t.attr("action"),type:"POST",data:i,success:function(n){var t=$("#OperationalProcesses_OperationalProcessTypes").data("kendoMultiSelect"),i,r;t.dataSource.add(n);i=t.value();r=$.merge($.merge([],i),[n.Id]);t.value(r);$("#process-type-window").data("kendoWindow").close()},error:function(n){handleResponseTextError(n)},complete:function(){stopSpinner()}})):n.preventDefault()})}function addDomainType(n){$(".js-editServiceDomain").length&&n.preventDefault();var t=$("#domain-type-window").data("kendoWindow");t.bind("activate",function(){$("input#DomainName").focus()});t.refresh().center().open()}function onDomainTypeRefresh(){$("#domainTypeCreateButton").click(function(n){var t=$(this).closest("form"),i=t.kendoValidator().data("kendoValidator");i.validate()?(startSpinner(),$.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),success:function(n){var i,t,e;if($(".js-editServiceDomain").length)i=$("#ServiceDomain_DomainTypeId").data("kendoDropDownList"),i&&(i.dataSource.add(n),i.value(n.Id),i.trigger("change"));else if(t=$("#AddServiceDomainGrid").data("kendoGrid"),t){t.addRow();var o=t.wrapper.find(".k-grid-toolbar").html(),f=t.columns,r=getKendoGridColumn(t,"DomainTypeId"),s=getKendoGridIndex(t,"DomainTypeId"),u=r.values;u.push({text:n.DomainName,value:n.Id});f[s]={dataTextField:"Text",dataValueField:"Value",field:r.field,width:r.width,title:r.title,filter:"contains",values:u,editor:function(n,t){$("<input name='"+t.field+"'/>").appendTo(n).kendoDropDownList({dataSource:u,filter:"startswith",dataTextField:"text",optionLabel:"-- Please Select --",dataValueField:"value"})}};t.setOptions({columns:f});t.wrapper.find(".k-grid-toolbar").html(o);e=t.dataSource.at(0);e.set("DomainTypeId",n.Id);addServiceDomainClickHandlers()}$("#domain-type-window").data("kendoWindow").close()},error:function(n){handleResponseTextError(n)}}),stopSpinner()):n.preventDefault()})}function handleResponseTextError(n){try{var i=$.parseJSON(n.responseText),t;$.each(i,function(n,i){if(n==="Errors")return t=$.parseJSON(JSON.stringify(i)),!1});t==undefined?onErrorMessage(500):kendoErrorAlert(t)}catch(r){kendoErrorAlert("An unexpected error has occurred the details of which have been logged. Please try again and if the problem persists, contact an administrator.")}}function addServiceDomainClickHandlers(){$("#addMoreRowsToolbar").click(function(n){n.preventDefault();var t=$("#AddServiceDomainGrid").data("kendoGrid");repeat(function(){t.addRow()},4)});$("#addDomainTypeToolbar").click(function(n){n.preventDefault();addDomainType(n)})}function moveServiceDomainType(n){var i=$("#domain-move-window").data("kendoWindow"),t;i&&(i.refresh().center().open(),t=this.dataItem($(n.currentTarget).closest("tr")),moveServiceDomainId=t.Id,moveServiceDeskId=t.ServiceDeskId)}function onMoveServiceDomainTypeRefresh(){var i=$("#ServiceDeskId").data("kendoDropDownList"),n,t;if(i){if(n=i.dataSource.data(),n)for(t=0;t<n.length;t++)if(n[t].Key==moveServiceDeskId){i.dataSource.remove(n[t]);break}$("#moveDomainType").click(function(n){var t=$(this).closest("form"),i=t.kendoValidator().data("kendoValidator");i.validate()?(startSpinner(),$("#ServiceDomainId").val(moveServiceDomainId),$.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),success:function(){var i=$("#domain-move-window").data("kendoWindow"),n,t;i.close();n=$("#ServiceDomainGrid");n&&(t=n.data("kendoGrid"),t.dataSource.read(),t.refresh());stopSpinner()},error:function(n){onErrorNoXhr(n);stopSpinner()}})):n.preventDefault()})}}function repeat(n,t){for(var i=0;i<t;i++)n()}function onAddCustomerPackClick(){var n=$("#add-customer-pack-window").data("kendoWindow");n.bind("activate",function(){$("input#Filename").focus()});n.refresh().center().open()}function onUploadCustomerFileClick(){var n=$("#upload-customer-file-window").data("kendoWindow");n.bind("activate",function(){$("input#CustomerFile").focus()});n.refresh().center().open()}function getKendoGridColumn(n,t){for(var r,i=0;i<n.columns.length;i++)if(r=n.columns[i],r.field==t)return r;return null}function getKendoGridIndex(n,t){for(var r,i=0;i<n.columns.length;i++)if(r=n.columns[i],r.field==t)return i;return null}function openSelectUserWindow(){var n=$("#user-selector-window").data("kendoWindow");n.refresh().center().open()}function closeSelectUserWindow(){var n=$("#user-selector-window").data("kendoWindow");n.close()}function getSelectUserSelected(){return $("#SelectedEmail").data("kendoDropDownList").value()}function fixupAjaxGridMenus(){$(".cell-menu-list").kendoMenu()}function addFunctionType(n){$(".js-editServiceFunction").length&&n.preventDefault();var t=$("#function-type-window").data("kendoWindow");t.bind("activate",function(){$("input#FunctionName").focus()});t.refresh().center().open()}function addServiceFunctionClickHandlers(){$("#addMoreRowsToolbar").click(function(n){n.preventDefault();var t=$("#AddServiceFunctionGrid").data("kendoGrid");repeat(function(){t.addRow()},4)});$("#addFunctionTypeToolbar").click(function(n){n.preventDefault();addFunctionType()})}function moveServiceFunctionType(n){var i=$("#function-move-window").data("kendoWindow"),t;i.refresh().center().open();t=this.dataItem($(n.currentTarget).closest("tr"));moveServiceFunctionId=t.Id;moveServiceDomainId=t.ServiceDomainId}function onMoveServiceFunctionTypeRefresh(){var i=$("#ServiceDomainId").data("kendoDropDownList"),t=i.dataSource.data(),n;if(t)for(n=0;n<t.length;n++)if(t[n].Key==moveServiceDomainId){i.dataSource.remove(t[n]);break}$("#moveFunctionType").click(function(n){var t=$(this).closest("form"),i=t.kendoValidator().data("kendoValidator");i.validate()?(startSpinner(),$("#ServiceFunctionId").val(moveServiceFunctionId),$.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),success:function(){var i=$("#function-move-window").data("kendoWindow"),n,t;i.close();n=$("#ServiceFunctionGrid");n&&(t=n.data("kendoGrid"),t.dataSource.read(),t.refresh());stopSpinner()},error:function(n){onErrorNoXhr(n);stopSpinner()}})):n.preventDefault()})}function onFunctionTypeRefresh(){$("#functionTypeCreateButton").click(function(n){var t=$(this).closest("form"),i=t.kendoValidator().data("kendoValidator");i.validate()?(startSpinner(),$.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),success:function(n){var t=$("#AddServiceFunctionGrid").data("kendoGrid"),e,i;if(t){t.addRow();var o=t.wrapper.find(".k-grid-toolbar").html(),f=t.columns,r=getKendoGridColumn(t,"FunctionTypeId"),s=getKendoGridIndex(t,"FunctionTypeId"),u=r.values;u.push({text:n.FunctionName,value:n.Id});f[s]={dataTextField:"Text",dataValueField:"Value",field:r.field,width:r.width,title:r.title,filter:"contains",values:u,editor:function(n,t){$("<input name='"+t.field+"'/>").appendTo(n).kendoDropDownList({dataSource:u,filter:"startswith",dataTextField:"text",optionLabel:"-- Please Select --",dataValueField:"value"})}};t.setOptions({columns:f});t.wrapper.find(".k-grid-toolbar").html(o);e=t.dataSource.at(0);e.set("FunctionTypeId",n.Id);addServiceFunctionClickHandlers()}else $(".js-editServiceFunction").length&&(i=$("#ServiceFunction_FunctionTypeId").data("kendoDropDownList"),i&&(i.dataSource.add(n),i.value(n.Id),i.trigger("change")));$("#function-type-window").data("kendoWindow").close()},error:function(n){handleResponseTextError(n)}}),stopSpinner()):n.preventDefault()})}function moveServiceComponentLevel1(n){var t=$("#component-level1-move-window").data("kendoWindow");t.refresh().center().open();moveServiceComponentId=n.Id;moveServiceComponentServiceFunctionId=n.ServiceFunctionId}function moveServiceComponentLevel2(n){var t=$("#component-level2-move-window").data("kendoWindow");t.refresh().center().open();moveServiceComponentId=n.Id;moveServiceComponentServiceFunctionId=n.ServiceFunctionId}function openMoveResolverWindow(n){var t=$("#resolver-move-window").data("kendoWindow");t.refresh().center().open();moveServiceComponentId=n.ServiceComponentId}function openMoveResolverLevelZeroWindow(n){var t=$("#resolver-move-level-zero-window").data("kendoWindow");t.refresh().center().open();moveResolverId=n.Id;moveResolverDeskId=n.ServiceDeskId}function onMoveServiceComponentLevel1Refresh(){var n=$("#moveServiceComponentLevel1Form"),r=n.find("#DestinationServiceFunctionId").data("kendoDropDownList"),t,i;if(r&&(t=r.dataSource.data(),t))for(i=0;i<t.length;i++)if(t[i].Value==moveServiceComponentServiceFunctionId){r.dataSource.remove(t[i]);break}$("#moveServiceComponentLevel1").click(function(t){var i=n.kendoValidator().data("kendoValidator");i.validate()?(startSpinner(),n.find("#ServiceComponentId").val(moveServiceComponentId),$.post(n.attr("action"),n.serialize(),"json").done(function(){var i=$("#component-level1-move-window").data("kendoWindow"),n,t;i.close();n=$("#ServiceComponentsGrid");n&&(t=n.data("kendoGrid"),t.dataSource.read(),t.refresh());stopSpinner();displayNotification("Service Component moved successfully.",NotificationTypeNames.Success)}).fail(function(n){stopSpinner();onErrorNoXhr(n)})):t.preventDefault()})}function onMoveServiceComponentLevel2Refresh(){var n=$("#moveServiceComponentLevel2Form"),r=n.find("#DestinationServiceComponentId").data("kendoDropDownList"),t,i;if(r&&(t=r.dataSource.data(),t))for(i=0;i<t.length;i++)if(t[i].Value==moveServiceComponentId){r.dataSource.remove(t[i]);break}$("#moveServiceComponentLevel2").click(function(t){var i=n.kendoValidator().data("kendoValidator");i.validate()?(startSpinner(),n.find("#ServiceComponentId").val(moveServiceComponentId),$.post(n.attr("action"),n.serialize(),"json").done(function(){var i=$("#component-level2-move-window").data("kendoWindow"),n,t;i.close();n=$("#ServiceComponentsLevelTwoGrid");n&&(t=n.data("kendoGrid"),t.dataSource.read(),t.refresh());stopSpinner();displayNotification("Service Component moved successfully.",NotificationTypeNames.Success)}).fail(function(n){stopSpinner();onErrorNoXhr(n)})):t.preventDefault()})}function onMoveResolverRefresh(){var n=$("#moveResolverForm"),r=n.find("#DestinationServiceComponentId").data("kendoDropDownList"),t,i;if(r&&(t=r.dataSource.data(),t))for(i=0;i<t.length;i++)if(t[i].Value==moveServiceComponentServiceFunctionId){r.dataSource.remove(t[i]);break}$("#moveResolver").click(function(t){var i=n.kendoValidator().data("kendoValidator");i.validate()?(startSpinner(),n.find("#ServiceComponentId").val(moveServiceComponentId),$.post(n.attr("action"),n.serialize(),"json").done(function(){var i=$("#resolver-move-window").data("kendoWindow"),n,t;i.close();n=$("#ResolverGrid");n&&(t=n.data("kendoGrid"),t.dataSource.read(),t.refresh());stopSpinner();displayNotification("Resolver Group moved successfully.",NotificationTypeNames.Success)}).fail(function(n){stopSpinner();onErrorNoXhr(n)})):t.preventDefault()})}function onMoveResolverLevelZeroRefresh(){var n=$("#moveResolverForm"),r=n.find("#DestinationDeskId").data("kendoDropDownList"),t,i;if(r&&(t=r.dataSource.data(),t))for(i=0;i<t.length;i++)if(t[i].Value==moveResolverDeskId){r.dataSource.remove(t[i]);break}$("#moveResolver").click(function(t){var i=n.kendoValidator().data("kendoValidator");i.validate()?(startSpinner(),n.find("#Id").val(moveResolverId),$.post(n.attr("action"),n.serialize(),"json").done(function(){var i=$("#resolver-move-level-zero-window").data("kendoWindow"),n,t;i.close();n=$("#ResolverLevelZeroGrid");n&&(t=n.data("kendoGrid"),t.dataSource.read(),t.refresh());stopSpinner();displayNotification("Resolver Group moved successfully.",NotificationTypeNames.Success)}).fail(function(n){stopSpinner();onErrorNoXhr(n)})):t.preventDefault()})}function addServiceComponentClickHandlers(){$("#addMoreRowsToolbar").click(function(n){n.preventDefault();var t=$("#AddServiceComponentsGrid").data("kendoGrid");repeat(function(){t.addRow()},4)})}function addServiceDeliveryUnitType(n){var i=$("#EditServiceComponentAddResolverPanel").data("kendoPanel"),t;i!==null&&i!==undefined&&n.preventDefault();t=$("#service-delivery-unit-type-window").data("kendoWindow");t.bind("activate",function(){$("input#ServiceDeliveryUnitTypeName").focus()});t.refresh().center().open()}function addResolverGroupType(n){var i=$("#EditServiceComponentAddResolverPanel").kendoPanelBar().data("kendoPanelBar"),t;i!==null&&i!==undefined&&n.preventDefault();t=$("#resolver-group-type-window").data("kendoWindow");t.bind("activate",function(){$("input#ResolverGroupTypeName").focus()});t.refresh().center().open()}function addResolverClickHandlers(){$("#addMoreRowsToolbar").click(function(n){n.preventDefault();var t=$("#AddResolverGrid").data("kendoGrid");repeat(function(){t.addRow()},4)});$("#addServiceDeliveryUnitTypeToolbar").click(function(n){n.preventDefault();addServiceDeliveryUnitType()});$("#addResolverGroupTypeToolbar").click(function(n){n.preventDefault();addResolverGroupType()})}function onServiceDeliveryUnitTypeRefresh(){$("#serviceDeliveryUnitTypeCreateButton").click(function(n){var t=$(this).closest("form"),i=t.kendoValidator().data("kendoValidator");i.validate()?(startSpinner(),t=$(this).closest("form"),$.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),success:function(n){var t=$("#AddResolverGrid").data("kendoGrid"),h,e,i,o,r;if(t){var c=t.wrapper.find(".k-grid-toolbar").html(),s=t.columns,u=getKendoGridColumn(t,"ServiceDeliveryUnitTypeId"),l=getKendoGridIndex(t,"ServiceDeliveryUnitTypeId"),f=u.values;f.push({text:n.ServiceDeliveryUnitTypeName,value:n.Id});s[l]={dataTextField:"Text",dataValueField:"Value",field:u.field,width:u.width,title:u.title,filter:"contains",values:f,editor:function(n,t){$("<input name='"+t.field+"'/>").appendTo(n).kendoDropDownList({dataSource:f,filter:"startswith",dataTextField:"text",optionLabel:"-- Please Select --",dataValueField:"value"})}};t.setOptions({columns:s});t.wrapper.find(".k-grid-toolbar").html(c);h=t.dataSource.at(0);h.set("ServiceDeliveryUnitTypeId",n.Id);addResolverClickHandlers()}else e=$("#AddResolverGrid").data("kendoGrid"),e!==null&&e!==undefined?(i=$("input#Resolver_ServiceDeliveryUnitTypeId").data("kendoDropDownList"),i&&(i.dataSource.add(n),i.value(n.Id),i.trigger("change"))):(o=$("#EditServiceComponentAddResolverPanel").kendoPanelBar().data("kendoPanelBar"),o!==null&&o!==undefined&&(r=$("input#ResolverServiceDeliveryUnit_ServiceDeliveryUnitTypeId").data("kendoDropDownList"),r&&(r.dataSource.add(n),r.value(n.Id),r.trigger("change"))));$("#service-delivery-unit-type-window").data("kendoWindow").close()},error:function(n){handleResponseTextError(n)}}),stopSpinner()):n.preventDefault()})}function onResolverGroupTypeRefresh(){$("#resolverGroupTypeCreateButton").click(function(n){$("input#IsVisible").is(":checked")?$("input#Visible").prop("checked",!0):$("input#Visible").prop("checked",!1);var t=$(this).closest("form"),i=t.kendoValidator().data("kendoValidator");i.validate()?(startSpinner(),$.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),success:function(n){var t=$("#AddResolverGrid").data("kendoGrid"),h,e,i,o,r;if(t){var c=t.wrapper.find(".k-grid-toolbar").html(),s=t.columns,u=getKendoGridColumn(t,"ResolverGroupTypeId"),l=getKendoGridIndex(t,"ResolverGroupTypeId"),f=u.values;f.push({text:n.ResolverGroupTypeName,value:n.Id});s[l]={dataTextField:"Text",dataValueField:"Value",field:u.field,width:u.width,title:u.title,filter:"contains",values:f,editor:function(n,t){$("<input name='"+t.field+"'/>").appendTo(n).kendoDropDownList({dataSource:f,filter:"startswith",dataTextField:"text",optionLabel:"-- Please Select --",dataValueField:"value"})}};t.setOptions({columns:s});t.wrapper.find(".k-grid-toolbar").html(c);h=t.dataSource.at(0);h.set("ResolverGroupTypeId",n.Id);addResolverClickHandlers()}else e=$("#AddResolverGrid").data("kendoGrid"),e!==null&&e!==undefined?(i=$("input#Resolver_ResolverGroupTypeId").data("kendoDropDownList"),i&&(i.dataSource.add(n),i.value(n.Id),i.trigger("change"))):(o=$("#EditServiceComponentAddResolverPanel").kendoPanelBar().data("kendoPanelBar"),o!==null&&o!==undefined&&(r=$("input#ResolverGroup_ResolverGroupTypeId").data("kendoDropDownList"),r&&(r.dataSource.add(n),r.value(n.Id),r.trigger("change"))));$("#resolver-group-type-window").data("kendoWindow").close()},error:function(n){handleResponseTextError(n)}}),stopSpinner()):n.preventDefault()})}function scaleSize(n,t,i,r){var u=r/i;return i>=n&&u<=1?(i=n,r=i*u):r>=t&&(r=t,i=r/u),[i,r]}function addCustomerContributorsClickHandlers(){$("#addMoreRowsToolbar").click(function(n){n.preventDefault();var t=$("#AddCustomerContributorGrid").data("kendoGrid");repeat(function(){t.addRow()},4)})}function removeGridHeightRestriction(){$(".k-grid-content-locked").css("height","");$(".k-grid-content").css("height","")}function onSelectMenuItem(n){var t=$(n.node).attr("data-expanded")==="true";t?this.collapse(n.node):this.expand(n.node)}function highlightSelectedNode(){var n=$(".k-state-selected"),t,i;hightlightNode(n);t=$(n).parent();i=$(t).parent();hightlightNode(i)}function hightlightNode(n){$(n).css("background-color","white");$(n).css("border-color","transparent");$(n).css("color","#3C3C35")}function onEdit(n){var t=n;t.container.data("kendoWindow").bind("activate",function(){n.container.find("input:visible:first").focus()})}function onCreateOnly(n){if(n.model.isNew()){var t=n;t.container.data("kendoWindow").bind("activate",function(){n.container.find("input:visible:first").focus()})}}function onEditOnly(n){if(!n.model.isNew()){var t=n;t.container.data("kendoWindow").bind("activate",function(){n.container.find("input:visible:first").focus()})}}function flatten(n,t){for(var i,r=0;r<n.length;r++)i=n[r],dataMap.push(i),i.flatIndex=dataMap.length-1,i.itemLevel=t,i.Units&&i.Units.length&&(i.hasChildren=!0,lastRoot=i,flatten(i.Units,t+1))}function selectRow(){var t=this.checked,n=$(this).closest("tr");t?n.addClass("k-state-selected"):n.removeClass("k-state-selected")}function wordwrap(n){var r=arguments.length>=2?arguments[1]:75,s=arguments.length>=3?arguments[2]:"\r\n",e=arguments.length>=4?arguments[3]:!1,u,t,o,i,f;if(n+="",r<1)return n;for(u=-1,o=(f=n.split(/\r\n|\n|\r/)).length;++u<o;f[u]+=i)for(i=f[u],f[u]="";i.length>r;f[u]+=i.slice(0,t)+((i=i.slice(t)).length?s:""))t=e===2||(t=i.slice(0,r+1).match(/\S*(\s)?$/))[1]?r:t.input.length-t[0].length||e===!0&&r||t.input.length+(t=i.slice(r).match(/^\S*/))[0].length;return f.join("\r\n")}function dataURLtoBlob(n){for(var i=n.split(","),f=i[0].match(/:(.*?);/)[1],r=atob(i[1]),t=r.length,u=new Uint8Array(t);t--;)u[t]=r.charCodeAt(t);return new Blob([u],{type:f})}function onDiagram(n){var t=$(n).getKendoDiagram(),i=t.boundingBox(),r=i.width+i.x+50,u=i.height+i.y+100;t.wrapper.width(r);t.wrapper.height(u);t.resize()}function saveDiagram(n,t,i,r,u){var f={dataUri:t,filename:i,level:r};$.ajax({type:"POST",url:n,data:f,dataType:"json",success:function(){displayNotification("Diagram saved successfully.",u)},error:function(n){onErrorNoXhr(n)},complete:function(){stopSpinner()}})}var NotificationTypeNames,moveServiceDomainId,moveServiceDeskId,moveServiceFunctionId,moveResolverId,moveResolverDeskId,moveServiceComponentId,moveServiceComponentServiceFunctionId;$(function(){$(":input:visible").first().focus()});NotificationTypeNames={Error:"error",Warning:"warning",Success:"success"};